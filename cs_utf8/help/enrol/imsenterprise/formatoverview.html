<h1>Popis formátu</h1>

<p>Níže je uveden jednoduchý průvodce základní strukturou typického datového
souboru IMS Enterprise. Více informací je k dispozici na oficiálních stránkách
<a href="http://www.imsglobal.org/enterprise/">IMS Enterprise</a>.</p>

<p>Doporučujeme nahlédnout do <a href=
"./enrol/imsenterprise/entv1p1_conformance_summary.html">přehledu podporovaných
položek</a>. Jsou v něm uvedeny položky souboru IMS, které umí zásuvný modul
IMS Enterprise zpracovat.</p>

<h1>Základní průvodce formátem souboru IMS Enterprise</h1>

<p>Pro každý zápis založený na formátu IMS Entrerprise je nutný tag
&lt;group&gt;, který určuje kurz, a tag &lt;person&gt;, který určuje
uživatelský účet. Dále je nutný tag &lt;membership&gt;, jenž obsahuje tagy
&lt;member&gt;, které určují role uživatelů v daném kurzu.</p>

<p>&nbsp;</p>

<p>Mějte na paměti, že numerické klíče používané v databázích Moodlu nejsou
interoperabilními daty. Studijní informační systém nikdy nebude dopředu vědět,
že Jiří je 20. uživatelem, který byl přidán do databáze Moodlu. Takové klíče se
proto v rámci tohoto typu dat nepředávají.</p>

<p>&nbsp;</p>

<p>Kromě jména má kurz zpravidla přidělen také referenční kód. Předpokládejme
tedy, že kód kurzu je MOODLE101. Svůj kurz potom můžete popsat např. takto:</p>

<p>&nbsp;</p>

<p>&nbsp; &lt;group&gt;<br>
&nbsp; &nbsp; &lt;sourcedid&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;source&gt;MyDataSystem&lt;/source&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;id&gt;MOODLE101&lt;/id&gt;<br>
&nbsp; &nbsp; &lt;/sourcedid&gt;<br>
&nbsp; &nbsp; &lt;description&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;short&gt;Moodle 101&lt;/short&gt;<br>
&nbsp; &nbsp; &lt;/description&gt;<br>
&nbsp; &lt;/group&gt;<br></p>

<p>Zápisový skript bude hledat kurz s kódem MOODLE101. Pokud takový kurz
neexistuje, bude (v závislosti na nastavení) vytvořen. Stejný postup platí i
pro osoby. Předpokládejme uživatele s uživatelským jménem "jmoodle":</p>

<p>&nbsp;</p>

<p>&nbsp; &lt;person&gt;<br>
&nbsp; &nbsp; &lt;sourcedid&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;source&gt;MyDataSystem&lt;/source&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;id&gt;jmoodle&lt;/id&gt;<br>
&nbsp; &nbsp; &lt;/sourcedid&gt;<br>
&nbsp; &nbsp; &lt;userid&gt;jmoodle&lt;/userid&gt;<br>
&nbsp; &nbsp; &lt;name&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;fn&gt;Jiří Moodle&lt;/fn&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;n&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;family&gt;MOODLE&lt;/family&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;given&gt;JIŘÍ&lt;/given&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;/n&gt;<br>
&nbsp; &nbsp; &lt;/name&gt;<br>
&nbsp; &lt;/person&gt;<br></p>

<p>Pokud Jiří ještě nemá v Moodlu účet, skript pro něj může (v závislosti na
nastavení) účet vytvořit.</p>

<p>Přejděme nyní k tagu &lt;membership&gt; a k přídání osoby do kurzu.</p>

<p>&nbsp;</p>

<p>&nbsp; &lt;membership&gt;<br>
&nbsp; &nbsp; &lt;sourcedid&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;source&gt;MyDataSystem&lt;/source&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;id&gt;MOODLE101&lt;/id&gt;<br>
&nbsp; &nbsp; &lt;/sourcedid&gt;<br>
&nbsp; &nbsp; &lt;member&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;sourcedid&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;source&gt;MyDataSystem&lt;/source&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;id&gt;jmoodle&lt;/id&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;/sourcedid&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;role roletype="01"&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;status&gt;1&lt;/status&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;extension&gt;&lt;cohort&gt;skupina
2&lt;/cohort&gt;&lt;/extension&gt;<br>
&nbsp; &nbsp; &nbsp; &lt;/role&gt;<br>
&nbsp; &nbsp; &lt;/member&gt;<br>
&nbsp; &lt;/membership&gt;<br></p>

<p>Specifikace IMS Enterprise dále nabízí funkci pro určení data začátku/konce
zápisu. Tato data mohou být podle potřeby do souboru zahrnuta pomocí tagu
&lt;timeframe&gt;.</p>

<p>&nbsp;</p>

<p>Pokud je již osoba v rámci kurzu zařazena do určité skupiny, skript toto
uspořádání nezmění.Jestliže ale uživatelé do skupin zařazeni nejsou, použijí se
pro zařazení do skupin údaje uvedené v datovém souboru.</p>

<p>&nbsp;</p>
